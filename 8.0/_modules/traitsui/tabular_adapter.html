
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>traitsui.tabular_adapter &mdash; TraitsUI 8 Documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../../_static/enthought.css" type="text/css" >
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" >
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" >
    <link rel="stylesheet" href="../../_static/enthought.css" type="text/css" >
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" >
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        LINK_SUFFIX: '.html',
        SOURCELINK_SUFFIX: '.txt',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sphinx_highlight.js"></script>
    <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
    <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <script type="text/javascript" src="../../_static/js/copybutton.js"></script>
    <script type="text/javascript" src="../../_static/js/wrap_on_dot.js"></script>
    <link rel="shortcut icon" href="../../_static/img/favicon.png">
    <link rel="index" title="Index" href="../../genindex.html" >
    <link rel="search" title="Search" href="../../search.html" >
    <link rel="top" title="TraitsUI 8 Documentation" href="../../index.html" >
    <link rel="up" title="Module code" href="../index.html" > 
  </head>
  <body>
  <div class="container">
    <div class="header">
    </div>
  </div>

    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="../../index.html">TraitsUI 8 Documentation</a></li>
	
          <li class="active"><a href="../index.html" accesskey="U">Module code</a></li>
  
    <li><a href="#">traitsui.tabular_adapter</a></li>
  

    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="../../py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body" role="main">
            
  <h1>Source code for traitsui.tabular_adapter</h1><div class="highlight"><pre>
<span></span><span class="c1"># (C) Copyright 2004-2023 Enthought, Inc., Austin, TX</span>
<span class="c1"># All rights reserved.</span>
<span class="c1">#</span>
<span class="c1"># This software is provided without warranty under the terms of the BSD</span>
<span class="c1"># license included in LICENSE.txt and may be redistributed only under</span>
<span class="c1"># the conditions described in the aforementioned license. The license</span>
<span class="c1"># is also available online at http://www.enthought.com/licenses/BSD.txt</span>
<span class="c1">#</span>
<span class="c1"># Thanks for using Enthought open source!</span>

<span class="sd">&quot;&quot;&quot; Defines the adapter classes associated with the Traits UI TabularEditor.</span>
<span class="sd">&quot;&quot;&quot;</span>


<span class="kn">from</span> <span class="nn">traits.api</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Any</span><span class="p">,</span>
    <span class="n">Bool</span><span class="p">,</span>
    <span class="n">Dict</span><span class="p">,</span>
    <span class="n">Enum</span><span class="p">,</span>
    <span class="n">Event</span><span class="p">,</span>
    <span class="n">Float</span><span class="p">,</span>
    <span class="n">HasPrivateTraits</span><span class="p">,</span>
    <span class="n">HasTraits</span><span class="p">,</span>
    <span class="n">Instance</span><span class="p">,</span>
    <span class="n">Int</span><span class="p">,</span>
    <span class="n">Interface</span><span class="p">,</span>
    <span class="n">List</span><span class="p">,</span>
    <span class="n">Property</span><span class="p">,</span>
    <span class="n">Str</span><span class="p">,</span>
    <span class="n">Union</span><span class="p">,</span>
    <span class="n">cached_property</span><span class="p">,</span>
    <span class="n">observe</span><span class="p">,</span>
    <span class="n">provides</span><span class="p">,</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="nn">.toolkit_traits</span> <span class="kn">import</span> <span class="n">Color</span><span class="p">,</span> <span class="n">Font</span>


<div class="viewcode-block" id="ITabularAdapter"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.ITabularAdapter">[docs]</a><span class="k">class</span> <span class="nc">ITabularAdapter</span><span class="p">(</span><span class="n">Interface</span><span class="p">):</span>

    <span class="c1">#: The row index of the current item being adapted:</span>
    <span class="n">row</span> <span class="o">=</span> <span class="n">Int</span><span class="p">()</span>

    <span class="c1">#: The current column id being adapted (if any):</span>
    <span class="n">column</span> <span class="o">=</span> <span class="n">Any</span><span class="p">()</span>

    <span class="c1">#: Current item being adapted:</span>
    <span class="n">item</span> <span class="o">=</span> <span class="n">Any</span><span class="p">()</span>

    <span class="c1">#: The current value (if any):</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">Any</span><span class="p">()</span>

    <span class="c1">#: The list of columns the adapter supports. The items in the list have the</span>
    <span class="c1">#: same format as the :py:attr:`columns` trait in the</span>
    <span class="c1">#: :py:class:`TabularAdapter` class, with the additional requirement that</span>
    <span class="c1">#: the ``string`` values must correspond to a ``string`` value in the</span>
    <span class="c1">#: associated :py:class:`TabularAdapter` class.</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="n">Str</span><span class="p">)</span>

    <span class="c1">#: Does the adapter know how to handle the current *item* or not:</span>
    <span class="n">accepts</span> <span class="o">=</span> <span class="n">Bool</span><span class="p">()</span>

    <span class="c1">#: Does the value of *accepts* depend only upon the type of *item*?</span>
    <span class="n">is_cacheable</span> <span class="o">=</span> <span class="n">Bool</span><span class="p">()</span></div>


<div class="viewcode-block" id="AnITabularAdapter"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.AnITabularAdapter">[docs]</a><span class="nd">@provides</span><span class="p">(</span><span class="n">ITabularAdapter</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">AnITabularAdapter</span><span class="p">(</span><span class="n">HasPrivateTraits</span><span class="p">):</span>

    <span class="c1"># Implementation of the ITabularAdapter Interface ------------------------</span>

    <span class="c1">#: The row index of the current item being adapted:</span>
    <span class="n">row</span> <span class="o">=</span> <span class="n">Int</span><span class="p">()</span>

    <span class="c1">#: The current column id being adapted (if any):</span>
    <span class="n">column</span> <span class="o">=</span> <span class="n">Any</span><span class="p">()</span>

    <span class="c1">#: Current item being adapted:</span>
    <span class="n">item</span> <span class="o">=</span> <span class="n">Any</span><span class="p">()</span>

    <span class="c1">#: The current value (if any):</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">Any</span><span class="p">()</span>

    <span class="c1">#: The list of columns the adapter supports. The items in the list have the</span>
    <span class="c1">#: same format as the :py:attr:`columns` trait in the</span>
    <span class="c1">#: :py:class:`TabularAdapter` class, with the additional requirement that</span>
    <span class="c1">#: the ``string`` values must correspond to a ``string`` value in the</span>
    <span class="c1">#: associated :py:class:`TabularAdapter` class.</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="n">Str</span><span class="p">)</span>

    <span class="c1">#: Does the adapter know how to handle the current *item* or not:</span>
    <span class="n">accepts</span> <span class="o">=</span> <span class="n">Bool</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1">#: Does the value of *accepts* depend only upon the type of *item*?</span>
    <span class="n">is_cacheable</span> <span class="o">=</span> <span class="n">Bool</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>


<div class="viewcode-block" id="TabularAdapter"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter">[docs]</a><span class="k">class</span> <span class="nc">TabularAdapter</span><span class="p">(</span><span class="n">HasPrivateTraits</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The base class for adapting list items to values that can be edited</span>
<span class="sd">    by a TabularEditor.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># -- Public Trait Definitions ---------------------------------------------</span>

    <span class="c1">#: A list of columns that should appear in the table. Each entry can have</span>
    <span class="c1">#: one of two forms: ``string`` or ``(string, id)``, where ``string`` is</span>
    <span class="c1">#: the UI name of the column, and ``id`` is a value that identifies that</span>
    <span class="c1">#: column to the adapter. Normally this value is either a trait name or an</span>
    <span class="c1">#: index, but it can be any value that the adapter wants. If only</span>
    <span class="c1">#: ``string`` is specified, then ``id`` is the index of the ``string``</span>
    <span class="c1">#: within :py:attr:`columns`.</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="n">List</span><span class="p">()</span>

    <span class="c1">#: Maps UI name of column to value identifying column to the adapter, if</span>
    <span class="c1">#: different.</span>
    <span class="n">column_dict</span> <span class="o">=</span> <span class="n">Property</span><span class="p">()</span>

    <span class="c1">#: Specifies the default value for a new row.  This will usually need to be</span>
    <span class="c1">#: overridden.</span>
    <span class="n">default_value</span> <span class="o">=</span> <span class="n">Any</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="c1">#: The default text color for odd table rows.</span>
    <span class="n">odd_text_color</span> <span class="o">=</span> <span class="n">Color</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1">#: The default text color for even table rows.</span>
    <span class="n">even_text_color</span> <span class="o">=</span> <span class="n">Color</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1">#: The default text color for table rows.</span>
    <span class="n">default_text_color</span> <span class="o">=</span> <span class="n">Color</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1">#: The default background color for odd table rows.</span>
    <span class="n">odd_bg_color</span> <span class="o">=</span> <span class="n">Color</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1">#: The default background color for even table rows.</span>
    <span class="n">even_bg_color</span> <span class="o">=</span> <span class="n">Color</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1">#: The default background color for table rows.</span>
    <span class="n">default_bg_color</span> <span class="o">=</span> <span class="n">Color</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1">#: Horizontal alignment to use for a specified column.</span>
    <span class="n">alignment</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">)</span>

    <span class="c1">#: The Python format string to use for a specified column.</span>
    <span class="nb">format</span> <span class="o">=</span> <span class="n">Str</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1">#: Width of a specified column.</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1">#: Can the text value of each item be edited?</span>
    <span class="n">can_edit</span> <span class="o">=</span> <span class="n">Bool</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1">#: The value to be dragged for a specified row item.</span>
    <span class="n">drag</span> <span class="o">=</span> <span class="n">Property</span><span class="p">()</span>

    <span class="c1">#: Can any arbitrary value be dropped onto the tabular view.</span>
    <span class="n">can_drop</span> <span class="o">=</span> <span class="n">Bool</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1">#: Specifies where a dropped item should be placed in the table relative to</span>
    <span class="c1">#: the item it is dropped on.</span>
    <span class="n">dropped</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s2">&quot;after&quot;</span><span class="p">,</span> <span class="s2">&quot;before&quot;</span><span class="p">)</span>

    <span class="c1">#: The font for a row item.</span>
    <span class="n">font</span> <span class="o">=</span> <span class="n">Font</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

    <span class="c1">#: The text color for a row item.</span>
    <span class="n">text_color</span> <span class="o">=</span> <span class="n">Property</span><span class="p">()</span>

    <span class="c1">#: The background color for a row item.</span>
    <span class="n">bg_color</span> <span class="o">=</span> <span class="n">Property</span><span class="p">()</span>

    <span class="c1">#: The name of the default image to use for column items.</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">Str</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1">#: The text of a row/column item.</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">Property</span><span class="p">()</span>

    <span class="c1">#: The content of a row/column item (may be any Python value).</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">Property</span><span class="p">()</span>

    <span class="c1">#: The tooltip information for a row/column item.</span>
    <span class="n">tooltip</span> <span class="o">=</span> <span class="n">Str</span><span class="p">()</span>

    <span class="c1">#: The context menu for a row/column item.</span>
    <span class="n">menu</span> <span class="o">=</span> <span class="n">Any</span><span class="p">()</span>

    <span class="c1">#: The context menu for column header.</span>
    <span class="n">column_menu</span> <span class="o">=</span> <span class="n">Any</span><span class="p">()</span>

    <span class="c1">#: List of optional delegated adapters.</span>
    <span class="n">adapters</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="n">ITabularAdapter</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># -- Traits Set by the Editor ---------------------------------------------</span>

    <span class="c1">#: The object whose trait is being edited.</span>
    <span class="nb">object</span> <span class="o">=</span> <span class="n">Instance</span><span class="p">(</span><span class="n">HasTraits</span><span class="p">)</span>

    <span class="c1">#: The name of the trait being edited.</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Str</span><span class="p">()</span>

    <span class="c1">#: The row index of the current item being adapted.</span>
    <span class="n">row</span> <span class="o">=</span> <span class="n">Int</span><span class="p">()</span>

    <span class="c1">#: The column index of the current item being adapted.</span>
    <span class="n">column</span> <span class="o">=</span> <span class="n">Int</span><span class="p">()</span>

    <span class="c1">#: The current column id being adapted (if any).</span>
    <span class="n">column_id</span> <span class="o">=</span> <span class="n">Any</span><span class="p">()</span>

    <span class="c1">#: Current item being adapted.</span>
    <span class="n">item</span> <span class="o">=</span> <span class="n">Any</span><span class="p">()</span>

    <span class="c1">#: The current value (if any).</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">Any</span><span class="p">()</span>

    <span class="c1"># -- Private Trait Definitions --------------------------------------------</span>

    <span class="c1">#: Cache of attribute handlers.</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">()</span>

    <span class="c1">#: Event fired when the cache is flushed.</span>
    <span class="n">cache_flushed</span> <span class="o">=</span> <span class="n">Event</span><span class="p">(</span><span class="n">update</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1">#: The mapping from column indices to column identifiers (defined by the</span>
    <span class="c1">#: :py:attr:`columns` trait).</span>
    <span class="n">column_map</span> <span class="o">=</span> <span class="n">Property</span><span class="p">(</span><span class="n">observe</span><span class="o">=</span><span class="s2">&quot;columns&quot;</span><span class="p">)</span>

    <span class="c1">#: The mapping from column indices to column labels (defined by the</span>
    <span class="c1">#: :py:attr:`columns` trait).</span>
    <span class="n">label_map</span> <span class="o">=</span> <span class="n">Property</span><span class="p">(</span><span class="n">observe</span><span class="o">=</span><span class="s2">&quot;columns&quot;</span><span class="p">)</span>

    <span class="c1">#: The name of the trait on a row item containing the value to use</span>
    <span class="c1">#: as a row label. If ``None``, the label will be the empty string.</span>
    <span class="n">row_label_name</span> <span class="o">=</span> <span class="n">Union</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">Str</span><span class="p">)</span>

    <span class="c1">#: For each adapter, specifies the column indices the adapter handles.</span>
    <span class="n">adapter_column_indices</span> <span class="o">=</span> <span class="n">Property</span><span class="p">(</span><span class="n">observe</span><span class="o">=</span><span class="s2">&quot;adapters,columns&quot;</span><span class="p">)</span>

    <span class="c1">#: For each adapter, specifies the mapping from column index to column id.</span>
    <span class="n">adapter_column_map</span> <span class="o">=</span> <span class="n">Property</span><span class="p">(</span><span class="n">observe</span><span class="o">=</span><span class="s2">&quot;adapters,columns&quot;</span><span class="p">)</span>

    <span class="c1"># -------------------------------------------------------------------------</span>
    <span class="c1"># TabularAdapter interface</span>
    <span class="c1"># -------------------------------------------------------------------------</span>

<div class="viewcode-block" id="TabularAdapter.cleanup"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.cleanup">[docs]</a>    <span class="k">def</span> <span class="nf">cleanup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Clean up the adapter to remove references to objects.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trait_setq</span><span class="p">(</span><span class="nb">object</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">item</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></div>

    <span class="c1"># -- Adapter methods that are sensitive to item type ----------------------</span>

<div class="viewcode-block" id="TabularAdapter.get_alignment"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_alignment">[docs]</a>    <span class="k">def</span> <span class="nf">get_alignment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">column</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the alignment style to use for a specified column.</span>

<span class="sd">        The possible values that can be returned are: ``&#39;left&#39;``, ``&#39;center&#39;``</span>
<span class="sd">        or ``&#39;right&#39;``. All table items share the same alignment for a</span>
<span class="sd">        specified column.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_alignment&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.get_width"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_width">[docs]</a>    <span class="k">def</span> <span class="nf">get_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">column</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the width to use for a specified column.</span>

<span class="sd">        If the value is &lt;= 0, the column will have a *default* width, which is</span>
<span class="sd">        the same as specifying a width of 0.1.</span>

<span class="sd">        If the value is &gt; 1.0, it is converted to an integer and the result is</span>
<span class="sd">        the width of the column in pixels. This is referred to as a</span>
<span class="sd">        *fixed width* column.</span>

<span class="sd">        If the value is a float such that 0.0 &lt; value &lt;= 1.0, it is treated as</span>
<span class="sd">        the *unnormalized fraction of the available space* that is to be</span>
<span class="sd">        assigned to the column. What this means requires a little explanation.</span>

<span class="sd">        To arrive at the size in pixels of the column at any given time, the</span>
<span class="sd">        editor adds together all of the *unnormalized fraction* values</span>
<span class="sd">        returned for all columns in the table to arrive at a total value. Each</span>
<span class="sd">        *unnormalized fraction* is then divided by the total to create a</span>
<span class="sd">        *normalized fraction*. Each column is then assigned an amount of space</span>
<span class="sd">        in pixels equal to the maximum of 30 or its *normalized fraction*</span>
<span class="sd">        multiplied by the *available space*. The *available space* is defined</span>
<span class="sd">        as the actual width of the table minus the width of all *fixed width*</span>
<span class="sd">        columns. Note that this calculation is performed each time the table is</span>
<span class="sd">        resized in the user interface, thus allowing columns of this type to</span>
<span class="sd">        increase or decrease their width dynamically, while leaving *fixed</span>
<span class="sd">        width* columns unchanged.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_width&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.get_can_edit"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_can_edit">[docs]</a>    <span class="k">def</span> <span class="nf">get_can_edit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns whether the user can edit a specified row.</span>

<span class="sd">        A ``True`` result indicates that the value can be edited, while a</span>
<span class="sd">        ``False`` result indicates that it cannot.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_can_edit&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.get_drag"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_drag">[docs]</a>    <span class="k">def</span> <span class="nf">get_drag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the value to be *dragged* for a specified row.</span>

<span class="sd">        A result of ``None`` means that the item cannot be dragged. Note that</span>
<span class="sd">        the value returned does not have to be the actual row item. It can be</span>
<span class="sd">        any value that you want to drag in its place. In particular, if you</span>
<span class="sd">        want the drag target to receive a copy of the row item, you should</span>
<span class="sd">        return a copy or clone of the item in its place.</span>

<span class="sd">        Also note that if multiple items are being dragged, and this method</span>
<span class="sd">        returns ``None`` for any item in the set, no drag operation is</span>
<span class="sd">        performed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_drag&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.get_can_drop"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_can_drop">[docs]</a>    <span class="k">def</span> <span class="nf">get_can_drop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns whether the specified ``value`` can be dropped on the specified row.</span>

<span class="sd">        A value of ``True`` means the ``value`` can be dropped; and a value of</span>
<span class="sd">        ``False`` indicates that it cannot be dropped.</span>

<span class="sd">        The result is used to provide the user positive or negative drag</span>
<span class="sd">        feedback while dragging items over the table. ``value`` will always be</span>
<span class="sd">        a single value, even if multiple items are being dragged. The editor</span>
<span class="sd">        handles multiple drag items by making a separate call to</span>
<span class="sd">        :py:meth:`get_can_drop` for each item being dragged.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_can_drop&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.get_dropped"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_dropped">[docs]</a>    <span class="k">def</span> <span class="nf">get_dropped</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns how to handle a specified ``value`` being dropped on a specified row.</span>

<span class="sd">        The possible return values are:</span>

<span class="sd">        - ``&#39;before&#39;``: Insert the specified ``value`` before the dropped on item.</span>
<span class="sd">        - ``&#39;after&#39;``: Insert the specified ``value`` after the dropped on item.</span>

<span class="sd">        Note there is no result indicating *do not drop* since you will have</span>
<span class="sd">        already indicated that the ``object`` can be dropped by the result</span>
<span class="sd">        returned from a previous call to :py:meth:`get_can_drop`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_dropped&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.get_font"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_font">[docs]</a>    <span class="k">def</span> <span class="nf">get_font</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the font to use for displaying a specified row or cell.</span>

<span class="sd">        A result of ``None`` means use the default font; otherwise a toolkit</span>
<span class="sd">        font object should be returned. Note that all columns for the specified</span>
<span class="sd">        table row will use the font value returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_font&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.get_text_color"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_text_color">[docs]</a>    <span class="k">def</span> <span class="nf">get_text_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the text color to use for a specified row or cell.</span>

<span class="sd">        A result of ``None`` means use the default text color; otherwise a</span>
<span class="sd">        toolkit-compatible color should be returned. Note that all columns for</span>
<span class="sd">        the specified table row will use the text color value returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_text_color&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.get_bg_color"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_bg_color">[docs]</a>    <span class="k">def</span> <span class="nf">get_bg_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the background color to use for a specified row or cell.</span>

<span class="sd">        A result of ``None`` means use the default background color; otherwise</span>
<span class="sd">        a toolkit-compatible color should be returned. Note that all columns</span>
<span class="sd">        for the specified table row will use the background color value</span>
<span class="sd">        returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_bg_color&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.get_image"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_image">[docs]</a>    <span class="k">def</span> <span class="nf">get_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the image to display for a specified cell.</span>

<span class="sd">        A result of ``None`` means no image will be displayed in the specified</span>
<span class="sd">        table cell. Otherwise the result should either be the name of the</span>
<span class="sd">        image, or an :py:class:`~pyface.image_resource.ImageResource` object</span>
<span class="sd">        specifying the image to display.</span>

<span class="sd">        A name is allowed in the case where the image is specified in the</span>
<span class="sd">        :py:class:`~traitsui.editors.tabular_editor.TabularEditor`</span>
<span class="sd">        :py:attr:`~traitsui.editors.tabular_editor.TabularEditor.images` trait.</span>
<span class="sd">        In that case, the name should be the same as the string specified in</span>
<span class="sd">        the :py:class:`~pyface.image_resource.ImageResource` constructor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_image&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.get_format"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_format">[docs]</a>    <span class="k">def</span> <span class="nf">get_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the Python formatting string to apply to the specified cell.</span>

<span class="sd">        The resulting of formatting with this string will be used as the text</span>
<span class="sd">        to display it in the table.</span>

<span class="sd">        The return can be any Python string containing exactly one old-style</span>
<span class="sd">        Python formatting sequence, such as ``&#39;%.4f&#39;`` or ``&#39;(%5.2f)&#39;``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_format&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.get_text"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_text">[docs]</a>    <span class="k">def</span> <span class="nf">get_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a string containing the text to display for a specified cell.</span>

<span class="sd">        If the underlying data representation for a specified item is not a</span>
<span class="sd">        string, then it is your responsibility to convert it to one before</span>
<span class="sd">        returning it as the result.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_text&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.get_content"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_content">[docs]</a>    <span class="k">def</span> <span class="nf">get_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the content to display for a specified cell.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_content&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.set_text"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.set_text">[docs]</a>    <span class="k">def</span> <span class="nf">set_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the value for the specified cell.</span>

<span class="sd">        This method is called when the user completes an editing operation on a</span>
<span class="sd">        table cell.</span>

<span class="sd">        The string specified by ``text`` is the value that the user has</span>
<span class="sd">        entered in the table cell.  If the underlying data does not store the</span>
<span class="sd">        value as text, it is your responsibility to convert ``text`` to the</span>
<span class="sd">        correct representation used.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;set_text&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.get_tooltip"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_tooltip">[docs]</a>    <span class="k">def</span> <span class="nf">get_tooltip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a string containing the tooltip to display for a specified cell.</span>

<span class="sd">        You should return the empty string if you do not wish to display a</span>
<span class="sd">        tooltip.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_tooltip&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.get_menu"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_menu">[docs]</a>    <span class="k">def</span> <span class="nf">get_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the context menu for a specified cell.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_menu&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span></div>

<div class="viewcode-block" id="TabularAdapter.get_column_menu"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_column_menu">[docs]</a>    <span class="k">def</span> <span class="nf">get_column_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the context menu for a specified column.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_result_for</span><span class="p">(</span><span class="s2">&quot;get_column_menu&quot;</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span></div>

    <span class="c1"># -- Adapter methods that are not sensitive to item type ------------------</span>

<div class="viewcode-block" id="TabularAdapter.get_item"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_item">[docs]</a>    <span class="k">def</span> <span class="nf">get_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the specified row item.</span>

<span class="sd">        The value returned should be the value that exists (or *logically*</span>
<span class="sd">        exists) at the specified ``row`` in your data. If your data is not</span>
<span class="sd">        really a list or array, then you can just use ``row`` as an integer</span>
<span class="sd">        *key* or *token* that can be used to retrieve a corresponding item. The</span>
<span class="sd">        value of ``row`` will always be in the range: 0 &lt;= row &lt;</span>
<span class="sd">        ``len(object, trait)`` (i.e. the result returned by the adapter</span>
<span class="sd">        :py:meth:`len` method).</span>

<span class="sd">        The default implementation assumes the trait defined by</span>
<span class="sd">        ``object.trait`` is a *sequence* and attempts to return the value at</span>
<span class="sd">        index ``row``. If an error occurs, it returns ``None`` instead. This</span>
<span class="sd">        definition should work correctly for lists, tuples and arrays, or any</span>
<span class="sd">        other object that is indexable, but will have to be overridden for all</span>
<span class="sd">        other cases.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">)[</span><span class="n">row</span><span class="p">]</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="TabularAdapter.len"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.len">[docs]</a>    <span class="k">def</span> <span class="nf">len</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the number of row items in the specified ``object.trait``.</span>

<span class="sd">        The result should be an integer greater than or equal to 0.</span>

<span class="sd">        The default implementation assumes the trait defined by</span>
<span class="sd">        ``object.trait`` is a *sequence* and attempts to return the result of</span>
<span class="sd">        calling ``len(object.trait)``. It will need to be overridden for any</span>
<span class="sd">        type of data which for which :py:func:`len` will not work.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Sometimes, during shutdown, the object has been set to None.</span>
        <span class="k">if</span> <span class="nb">object</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">))</span></div>

<div class="viewcode-block" id="TabularAdapter.get_default_value"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_default_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_default_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a new default value for the specified ``object.trait`` list.</span>

<span class="sd">        This method is called when *insert* or *append* operations are allowed</span>
<span class="sd">        and the user requests that a new item be added to the table. The result</span>
<span class="sd">        should be a new instance of whatever underlying representation is being</span>
<span class="sd">        used for table items.</span>

<span class="sd">        The default implementation simply returns the value of the adapter&#39;s</span>
<span class="sd">        :py:attr:`default_value` trait.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_value</span></div>

<div class="viewcode-block" id="TabularAdapter.delete"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.delete">[docs]</a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deletes the specified row item.</span>

<span class="sd">        This method is only called if the *delete* operation is specified in</span>
<span class="sd">        the :py:class:`~traitsui.editors.tabular_editor.TabularEditor`</span>
<span class="sd">        :py:attr:`~traitsui.editors.tabular_editor.TabularEditor.operation`</span>
<span class="sd">        trait, and the user requests that the item be deleted from the table.</span>

<span class="sd">        The adapter can still choose not to delete the specified item if</span>
<span class="sd">        desired, although that may prove confusing to the user.</span>

<span class="sd">        The default implementation assumes the trait defined by</span>
<span class="sd">        ``object.trait`` is a mutable sequence and attempts to perform a</span>
<span class="sd">        ``del object.trait[row]`` operation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="nb">getattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">)[</span><span class="n">row</span><span class="p">]</span></div>

<div class="viewcode-block" id="TabularAdapter.insert"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.insert">[docs]</a>    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Inserts ``value`` at the specified ``object.trait[row]`` index.</span>

<span class="sd">        The specified ``value`` can be:</span>

<span class="sd">        - An item being moved from one location in the data to another.</span>
<span class="sd">        - A new item created by a previous call to</span>
<span class="sd">          :py:meth:`~TabularAdapter.get_default_value`.</span>
<span class="sd">        - An item the adapter previously approved via a call to</span>
<span class="sd">          :py:meth:`~TabularAdapter.get_can_drop`.</span>

<span class="sd">        The adapter can still choose not to insert the item into the data,</span>
<span class="sd">        although that may prove confusing to the user.</span>

<span class="sd">        The default implementation assumes the trait defined by</span>
<span class="sd">        ``object.trait`` is a mutable sequence and attempts to perform an</span>
<span class="sd">        ``object.trait[row:row] = [value]`` operation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">getattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">)[</span><span class="n">row</span><span class="p">:</span><span class="n">row</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span></div>

<div class="viewcode-block" id="TabularAdapter.get_column"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_column">[docs]</a>    <span class="k">def</span> <span class="nf">get_column</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the column id corresponding to a specified column index.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">column_map</span><span class="p">[</span><span class="n">index</span><span class="p">]</span></div>

    <span class="c1"># -- Property Implementations ---------------------------------------------</span>

    <span class="k">def</span> <span class="nf">_get_drag</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">item</span>

    <span class="k">def</span> <span class="nf">_get_text_color</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">even_text_color_</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_text_color</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">odd_text_color</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_text_color_</span>

    <span class="k">def</span> <span class="nf">_get_bg_color</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">even_bg_color_</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_bg_color_</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">odd_bg_color</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_bg_color_</span>

    <span class="k">def</span> <span class="nf">_get_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">column</span>
        <span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_content</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">column</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">column_id</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">column_id</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Convert value to the correct trait type.</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">trait_handler</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="o">.</span><span class="n">trait</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">column_id</span><span class="p">)</span><span class="o">.</span><span class="n">handler</span>
                <span class="nb">setattr</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">column_id</span><span class="p">,</span>
                    <span class="n">trait_handler</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">column_id</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_content</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">column_id</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">column_id</span><span class="p">]</span>

        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">column_id</span><span class="p">)</span>

    <span class="c1"># -- Property Implementations ---------------------------------------------</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">_get_column_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">cols</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">value</span><span class="p">:</span> <span class="n">value</span><span class="p">})</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cols</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]})</span>
        <span class="k">return</span> <span class="n">cols</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">_get_column_map</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">map</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="nb">map</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">map</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

        <span class="k">return</span> <span class="nb">map</span>

<div class="viewcode-block" id="TabularAdapter.get_label"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_label">[docs]</a>    <span class="k">def</span> <span class="nf">get_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Override this method if labels will vary from object to object.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">label_map</span><span class="p">[</span><span class="n">section</span><span class="p">]</span></div>

<div class="viewcode-block" id="TabularAdapter.get_row_label"><a class="viewcode-back" href="../../api/traitsui.tabular_adapter.html#traitsui.tabular_adapter.TabularAdapter.get_row_label">[docs]</a>    <span class="k">def</span> <span class="nf">get_row_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">row_label_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rows</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">rows</span><span class="p">[</span><span class="n">section</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">row_label_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span></div>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">_get_label_map</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">map</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="nb">map</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">map</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="k">return</span> <span class="nb">map</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">_get_adapter_column_indices</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">label_map</span>
        <span class="nb">map</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">adapter</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapters</span><span class="p">:</span>
            <span class="n">indices</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">adapter</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">label</span> <span class="o">=</span> <span class="n">label</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

                <span class="n">indices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">labels</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">label</span><span class="p">))</span>
            <span class="nb">map</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">map</span>

    <span class="nd">@cached_property</span>
    <span class="k">def</span> <span class="nf">_get_adapter_column_map</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">label_map</span>
        <span class="nb">map</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">adapter</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapters</span><span class="p">:</span>
            <span class="n">mapping</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">adapter</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="nb">id</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">label</span><span class="p">,</span> <span class="nb">id</span> <span class="o">=</span> <span class="n">label</span>

                <span class="n">key</span> <span class="o">=</span> <span class="n">labels</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="nb">id</span> <span class="o">=</span> <span class="n">key</span>

                <span class="n">mapping</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">id</span>

            <span class="nb">map</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mapping</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">map</span>

    <span class="c1"># -- Private Methods ------------------------------------------------------</span>

    <span class="k">def</span> <span class="nf">_result_for</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns/Sets the value of the specified *name* attribute for the</span>
<span class="sd">        specified *object.trait[row].column* item.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">object</span> <span class="o">=</span> <span class="nb">object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">trait</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">row</span> <span class="o">=</span> <span class="n">row</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">column</span> <span class="o">=</span> <span class="n">column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">column_id</span> <span class="o">=</span> <span class="n">column_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">column_map</span><span class="p">[</span><span class="n">column</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_item</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">trait</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
        <span class="n">item_class</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="vm">__class__</span>
        <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">:</span><span class="si">%s</span><span class="s2">:</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">item_class</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span>
        <span class="n">handler</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">handler</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">handler</span><span class="p">()</span>

        <span class="n">prefix</span> <span class="o">=</span> <span class="n">name</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">trait_name</span> <span class="o">=</span> <span class="n">name</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">adapter</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">adapters</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">column</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapter_column_indices</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">adapter</span><span class="o">.</span><span class="n">row</span> <span class="o">=</span> <span class="n">row</span>
                <span class="n">adapter</span><span class="o">.</span><span class="n">item</span> <span class="o">=</span> <span class="n">item</span>
                <span class="n">adapter</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
                <span class="n">adapter</span><span class="o">.</span><span class="n">column</span> <span class="o">=</span> <span class="n">column_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">adapter_column_map</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">column</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">adapter</span><span class="o">.</span><span class="n">accepts</span><span class="p">:</span>
                    <span class="n">get_name</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">_</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">column_id</span><span class="p">,</span> <span class="n">trait_name</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">adapter</span><span class="o">.</span><span class="n">trait</span><span class="p">(</span><span class="n">get_name</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">prefix</span> <span class="o">==</span> <span class="s2">&quot;get_&quot;</span><span class="p">:</span>
                            <span class="n">handler</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span>
                                <span class="n">adapter</span><span class="o">.</span><span class="n">trait_set</span><span class="p">(</span>
                                    <span class="n">row</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">,</span>
                                    <span class="n">column</span><span class="o">=</span><span class="n">column_id</span><span class="p">,</span>
                                    <span class="n">item</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="p">,</span>
                                <span class="p">),</span>
                                <span class="n">get_name</span><span class="p">,</span>
                            <span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">handler</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">setattr</span><span class="p">(</span>
                                <span class="n">adapter</span><span class="o">.</span><span class="n">trait_set</span><span class="p">(</span>
                                    <span class="n">row</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">,</span>
                                    <span class="n">column</span><span class="o">=</span><span class="n">column_id</span><span class="p">,</span>
                                    <span class="n">item</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">item</span><span class="p">,</span>
                                <span class="p">),</span>
                                <span class="n">get_name</span><span class="p">,</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                            <span class="p">)</span>

                        <span class="k">if</span> <span class="n">adapter</span><span class="o">.</span><span class="n">is_cacheable</span><span class="p">:</span>
                            <span class="k">break</span>

                        <span class="k">return</span> <span class="n">handler</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">item</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">item_class</span><span class="p">,</span> <span class="s2">&quot;__mro__&quot;</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">klass</span> <span class="ow">in</span> <span class="n">item_class</span><span class="o">.</span><span class="vm">__mro__</span><span class="p">:</span>
                    <span class="n">handler</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_handler_for</span><span class="p">(</span>
                        <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">_</span><span class="si">%s</span><span class="s2">_</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">klass</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">column_id</span><span class="p">,</span> <span class="n">trait_name</span><span class="p">),</span>
                        <span class="n">prefix</span><span class="p">,</span>
                    <span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_handler_for</span><span class="p">(</span>
                        <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">_</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">klass</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">trait_name</span><span class="p">),</span> <span class="n">prefix</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="n">handler</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="k">break</span>

            <span class="k">if</span> <span class="n">handler</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">handler</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_handler_for</span><span class="p">(</span>
                    <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">_</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">column_id</span><span class="p">,</span> <span class="n">trait_name</span><span class="p">),</span> <span class="n">prefix</span>
                <span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_handler_for</span><span class="p">(</span><span class="n">trait_name</span><span class="p">,</span> <span class="n">prefix</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">handler</span>
        <span class="k">return</span> <span class="n">handler</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_get_handler_for</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the handler for a specified trait name (or None if not</span>
<span class="sd">        found).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">trait</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">prefix</span> <span class="o">==</span> <span class="s2">&quot;get_&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

            <span class="k">return</span> <span class="k">lambda</span><span class="p">:</span> <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@observe</span><span class="p">(</span><span class="s2">&quot;columns,adapters.items.+update&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_flush_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Flushes the cache when the columns or any trait on any adapter</span>
<span class="sd">        changes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache_flushed</span> <span class="o">=</span> <span class="kc">True</span></div>
</pre></div>

          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/img/e-logo.png" alt="Logo">
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2008-2023, Enthought
      </li>
      <li>
      Last updated on May 22, 2023.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 7.0.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>