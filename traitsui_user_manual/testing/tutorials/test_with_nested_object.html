
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>Testing with nested objects &mdash; TraitsUI 7 Documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../../../_static/enthought.css" type="text/css" >
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" >
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '7.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        LINK_SUFFIX: '',
        SOURCELINK_SUFFIX: '.txt',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../../_static/js/copybutton.js"></script>
    <script type="text/javascript" src="../../../_static/js/wrap_on_dot.js"></script>
    <link rel="shortcut icon" href="../../../_static/img/favicon.ico">
    <link rel="index" title="Index" href="../../../genindex.html" >
    <link rel="search" title="Search" href="../../../search.html" >
    <link rel="top" title="TraitsUI 7 Documentation" href="../../../index.html" >
    <link rel="up" title="Testing TraitsUI Applications" href="../../testing.html" >
    <link rel="next" title="Add support for performing actions or inspecting states" href="../howtos/add_new_interaction.html" >
    <link rel="prev" title="First simple test" href="first_test.html" > 
  </head>
  <body>
  <div class="container">
    <div class="header">
    </div>
  </div>

    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="../../../index.html">TraitsUI 7 Documentation</a></li>
	
          <li class="active"><a href="../../index.html" >TraitsUI 7.2 User Manual</a></li>
          <li class="active"><a href="../../testing.html" accesskey="U">Testing TraitsUI Applications</a></li>
  
    <li><a href="#">Testing with nested objects</a></li>
  

    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../../../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="../../../py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
      <li class="active">
        <a href="../howtos/add_new_interaction.html" title="Add support for performing actions or inspecting states"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="first_test.html" title="First simple test"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body" role="main">
            
  <div class="section" id="testing-with-nested-objects">
<h1>Testing with nested objects<a class="headerlink" href="#testing-with-nested-objects" title="Permalink to this headline">¶</a></h1>
<p>Suppose we have a GUI application like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">traits.api</span> <span class="kn">import</span> <span class="n">Enum</span><span class="p">,</span> <span class="n">HasStrictTraits</span><span class="p">,</span> <span class="n">Instance</span><span class="p">,</span> <span class="n">Float</span><span class="p">,</span> <span class="n">observe</span><span class="p">,</span> <span class="n">Str</span>
<span class="kn">from</span> <span class="nn">traitsui.api</span> <span class="kn">import</span> <span class="n">Item</span><span class="p">,</span> <span class="n">InstanceEditor</span><span class="p">,</span> <span class="n">View</span>


<span class="k">class</span> <span class="nc">PayCheck</span><span class="p">(</span><span class="n">HasStrictTraits</span><span class="p">):</span>

    <span class="n">name</span> <span class="o">=</span> <span class="n">Str</span><span class="p">()</span>
    <span class="n">pay</span> <span class="o">=</span> <span class="n">Float</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">HasStrictTraits</span><span class="p">):</span>

    <span class="n">min_hourly_wage</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span>
    <span class="n">n_hours</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">([</span><span class="mi">25</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">45</span><span class="p">])</span>
    <span class="n">pay_check</span> <span class="o">=</span> <span class="n">Instance</span><span class="p">(</span><span class="n">PayCheck</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_pay_check_default</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PayCheck</span><span class="p">(</span><span class="n">pay</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">min_hourly_wage</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">n_hours</span><span class="p">)</span>

    <span class="nd">@observe</span><span class="p">(</span><span class="s2">&quot;min_hourly_wage&quot;</span><span class="p">)</span>
    <span class="nd">@observe</span><span class="p">(</span><span class="s2">&quot;n_hours&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_pay_updated</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pay_check</span><span class="o">.</span><span class="n">pay</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_hourly_wage</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_hours</span>

    <span class="n">view</span> <span class="o">=</span> <span class="n">View</span><span class="p">(</span>
        <span class="n">Item</span><span class="p">(</span><span class="s2">&quot;min_hourly_wage&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Hourly wage&quot;</span><span class="p">),</span>
        <span class="n">Item</span><span class="p">(</span><span class="s2">&quot;n_hours&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Number of work hours&quot;</span><span class="p">),</span>
        <span class="n">Item</span><span class="p">(</span><span class="s2">&quot;pay_check&quot;</span><span class="p">,</span> <span class="n">editor</span><span class="o">=</span><span class="n">InstanceEditor</span><span class="p">(),</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;custom&quot;</span><span class="p">),</span>
    <span class="p">)</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">configure_traits</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-default">
<img alt="../../../_images/init-app1.png" src="../../../_images/init-app1.png" />
</div>
<p>When the user selects a different number of work hours in the combo box, the
pay is updated accordingly. This behavior is simple enough to be tested
without GUI, but we will to write a GUI test for demonstration purposes.</p>
<p>The test will need to:</p>
<ol class="arabic simple">
<li><p>Find the combo box for the number of work hours field</p></li>
<li><p>Locate a different item in the combo box</p></li>
<li><p>Click that item to modify the number of work hours</p></li>
<li><p>Find the nested ‘pay’ field inside ‘PayCheck’</p></li>
<li><p>Check the pay is updated to the expected value</p></li>
</ol>
<div class="section" id="step-1-find-the-combo-box-for-the-number-of-work-hours-field">
<h2>Step 1: Find the combo box for the number of work hours field<a class="headerlink" href="#step-1-find-the-combo-box-for-the-number-of-work-hours-field" title="Permalink to this headline">¶</a></h2>
<p>First of all, find the combo box using the name defined in <a class="reference internal" href="../../../api/traitsui.item.html#traitsui.item.Item" title="traitsui.item.Item"><code class="xref py py-class docutils literal notranslate"><span class="pre">Item</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">traitsui.testing.api</span> <span class="kn">import</span> <span class="n">UITester</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">()</span>
<span class="n">tester</span> <span class="o">=</span> <span class="n">UITester</span><span class="p">()</span>
<span class="k">with</span> <span class="n">tester</span><span class="o">.</span><span class="n">create_ui</span><span class="p">(</span><span class="n">app</span><span class="p">)</span> <span class="k">as</span> <span class="n">ui</span><span class="p">:</span>
    <span class="n">n_hours_combobox</span> <span class="o">=</span> <span class="n">tester</span><span class="o">.</span><span class="n">find_by_name</span><span class="p">(</span><span class="n">ui</span><span class="p">,</span> <span class="s2">&quot;n_hours&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="step-2-locate-a-different-item-in-the-combo-box">
<h2>Step 2: Locate a different item in the combo box<a class="headerlink" href="#step-2-locate-a-different-item-in-the-combo-box" title="Permalink to this headline">¶</a></h2>
<p>Let’s take a look at the functionality supported with this
<code class="docutils literal notranslate"><span class="pre">n_hours_combobox</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n_hours_combobox</span><span class="o">.</span><span class="n">help</span><span class="p">()</span>
</pre></div>
</div>
<p>prints something like this (abbreviated for the purpose of this section):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Interactions
------------
&lt;class &#39;traitsui.testing.tester.command.KeyClick&#39;&gt;
    An object representing the user clicking a key on the keyboard.
    ...

&lt;class &#39;traitsui.testing.tester.command.KeySequence&#39;&gt;
    An object representing the user typing a sequence of keys.
    ...

&lt;class &#39;traitsui.testing.tester.query.DisplayedText&#39;&gt;
    An object representing an interaction to obtain the displayed (echoed)
    plain text.
    ...

&lt;class &#39;traitsui.testing.tester.query.SelectedText&#39;&gt;
    An object representing an interaction to obtain the displayed (echoed)
    plain text which is currently selected.

    E.g. For a Enum List, with one entry currently selected, the displayed
    selected text would be the label of that entry.
    ...

Locations
---------
&lt;class &#39;traitsui.testing.tester.locator.Index&#39;&gt;
    A locator for locating a target that is uniquely specified by a single
    0-based index.
</pre></div>
</div>
<p>The <a class="reference internal" href="../../../api/traitsui.testing.tester.locator.html#traitsui.testing.tester.locator.Index" title="traitsui.testing.tester.locator.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> object allows us to locate an indexed item on the combo box.
Objects listed in the “Locations” section can be used with <a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper.locate" title="traitsui.testing.tester.ui_wrapper.UIWrapper.locate"><code class="xref py py-func docutils literal notranslate"><span class="pre">locate()</span></code></a>.
So we add this line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">second_item</span> <span class="o">=</span> <span class="n">n_hours_combobox</span><span class="o">.</span><span class="n">locate</span><span class="p">(</span><span class="n">Index</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>Now our test looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">traitsui.testing.api</span> <span class="kn">import</span> <span class="n">Index</span><span class="p">,</span> <span class="n">UITester</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">()</span>
<span class="n">tester</span> <span class="o">=</span> <span class="n">UITester</span><span class="p">(</span><span class="n">delay</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
<span class="k">with</span> <span class="n">tester</span><span class="o">.</span><span class="n">create_ui</span><span class="p">(</span><span class="n">app</span><span class="p">)</span> <span class="k">as</span> <span class="n">ui</span><span class="p">:</span>
    <span class="n">n_hours_combobox</span> <span class="o">=</span> <span class="n">tester</span><span class="o">.</span><span class="n">find_by_name</span><span class="p">(</span><span class="n">ui</span><span class="p">,</span> <span class="s2">&quot;n_hours&quot;</span><span class="p">)</span>
    <span class="n">second_item</span> <span class="o">=</span> <span class="n">n_hours_combobox</span><span class="o">.</span><span class="n">locate</span><span class="p">(</span><span class="n">Index</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="step-3-modify-the-number-of-work-hours">
<h2>Step 3: Modify the number of work hours<a class="headerlink" href="#step-3-modify-the-number-of-work-hours" title="Permalink to this headline">¶</a></h2>
<p>The returned value of <a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper.locate" title="traitsui.testing.tester.ui_wrapper.UIWrapper.locate"><code class="xref py py-func docutils literal notranslate"><span class="pre">locate()</span></code></a> is another instance of <a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper" title="traitsui.testing.tester.ui_wrapper.UIWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">UIWrapper</span></code></a>.
We can find what are supported on <code class="docutils literal notranslate"><span class="pre">second_item</span></code> using the <a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper.help" title="traitsui.testing.tester.ui_wrapper.UIWrapper.help"><code class="xref py py-func docutils literal notranslate"><span class="pre">help()</span></code></a>
method again.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">second_item</span><span class="o">.</span><span class="n">help</span><span class="p">()</span>
</pre></div>
</div>
<p>prints something like this (abbreviated, again):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Interactions
------------
&lt;class &#39;traitsui.testing.tester.command.MouseClick&#39;&gt;
    An object representing the user clicking a mouse button.
    Currently the left mouse button is assumed.

    ...

Locations
---------
No locations are supported.
</pre></div>
</div>
<p>This help message indicates that we can click this second item. In our
application context, this will select the second item in the combo box:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">second_item</span><span class="o">.</span><span class="n">perform</span><span class="p">(</span><span class="n">MouseClick</span><span class="p">())</span>
</pre></div>
</div>
<p>Now this is how the test looks like so far:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">traitsui.testing.api</span> <span class="kn">import</span> <span class="n">Index</span><span class="p">,</span> <span class="n">MouseClick</span><span class="p">,</span> <span class="n">UITester</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">()</span>
<span class="n">tester</span> <span class="o">=</span> <span class="n">UITester</span><span class="p">()</span>
<span class="k">with</span> <span class="n">tester</span><span class="o">.</span><span class="n">create_ui</span><span class="p">(</span><span class="n">app</span><span class="p">)</span> <span class="k">as</span> <span class="n">ui</span><span class="p">:</span>
    <span class="n">n_hours_combobox</span> <span class="o">=</span> <span class="n">tester</span><span class="o">.</span><span class="n">find_by_name</span><span class="p">(</span><span class="n">ui</span><span class="p">,</span> <span class="s2">&quot;n_hours&quot;</span><span class="p">)</span>
    <span class="n">second_item</span> <span class="o">=</span> <span class="n">n_hours_combobox</span><span class="o">.</span><span class="n">locate</span><span class="p">(</span><span class="n">Index</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">second_item</span><span class="o">.</span><span class="n">perform</span><span class="p">(</span><span class="n">MouseClick</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="section" id="step-4-find-the-nested-pay-field-inside-paycheck">
<h2>Step 4: Find the nested ‘pay’ field inside ‘PayCheck’<a class="headerlink" href="#step-4-find-the-nested-pay-field-inside-paycheck" title="Permalink to this headline">¶</a></h2>
<p>This step is trickier. The <code class="docutils literal notranslate"><span class="pre">pay</span></code> field is nested inside the <code class="docutils literal notranslate"><span class="pre">pay_check</span></code>
item, how do we get to it?</p>
<p>Let’s get the <code class="docutils literal notranslate"><span class="pre">pay_check</span></code> object via the tester and see what we have:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pay_check_pane</span> <span class="o">=</span> <span class="n">tester</span><span class="o">.</span><span class="n">find_by_name</span><span class="p">(</span><span class="n">ui</span><span class="p">,</span> <span class="s2">&quot;pay_check&quot;</span><span class="p">)</span>
<span class="n">pay_check_pane</span><span class="o">.</span><span class="n">help</span><span class="p">()</span>
</pre></div>
</div>
<p>The last line prints something like this (abbreviated, again):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Interactions
------------
No interactions are supported.

Locations
---------
&lt;class &#39;traitsui.testing.tester.locator.TargetById&#39;&gt;
    A locator for locating the next UI target using an id.
    ...

&lt;class &#39;traitsui.testing.tester.locator.TargetByName&#39;&gt;
    A locator for locating the next UI target using a name.
    ...
</pre></div>
</div>
<p>We can see that <a class="reference internal" href="../../../api/traitsui.testing.tester.locator.html#traitsui.testing.tester.locator.TargetById" title="traitsui.testing.tester.locator.TargetById"><code class="xref py py-class docutils literal notranslate"><span class="pre">TargetById</span></code></a> and <a class="reference internal" href="../../../api/traitsui.testing.tester.locator.html#traitsui.testing.tester.locator.TargetByName" title="traitsui.testing.tester.locator.TargetByName"><code class="xref py py-class docutils literal notranslate"><span class="pre">TargetByName</span></code></a> are available for
locating the next GUI element. We can locate the text box for
<code class="docutils literal notranslate"><span class="pre">pay_check.pay</span></code> using <a class="reference internal" href="../../../api/traitsui.testing.tester.locator.html#traitsui.testing.tester.locator.TargetByName" title="traitsui.testing.tester.locator.TargetByName"><code class="xref py py-class docutils literal notranslate"><span class="pre">TargetByName</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pay_field</span> <span class="o">=</span> <span class="n">pay_check_pane</span><span class="o">.</span><span class="n">locate</span><span class="p">(</span><span class="n">TargetByName</span><span class="p">(</span><span class="s2">&quot;pay&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>In fact, <a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper.find_by_id" title="traitsui.testing.tester.ui_wrapper.UIWrapper.find_by_id"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_by_id()</span></code></a> and <a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper.find_by_name" title="traitsui.testing.tester.ui_wrapper.UIWrapper.find_by_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_by_name()</span></code></a> are simply
aliases for <a class="reference internal" href="../../../api/traitsui.testing.tester.locator.html#traitsui.testing.tester.locator.TargetById" title="traitsui.testing.tester.locator.TargetById"><code class="xref py py-class docutils literal notranslate"><span class="pre">TargetById</span></code></a> and <a class="reference internal" href="../../../api/traitsui.testing.tester.locator.html#traitsui.testing.tester.locator.TargetByName" title="traitsui.testing.tester.locator.TargetByName"><code class="xref py py-class docutils literal notranslate"><span class="pre">TargetByName</span></code></a> respectively, so you
can also write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pay_field</span> <span class="o">=</span> <span class="n">pay_check_pane</span><span class="o">.</span><span class="n">find_by_name</span><span class="p">(</span><span class="s2">&quot;pay&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now this is how the test looks like so far:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">traitsui.testing.api</span> <span class="kn">import</span> <span class="n">Index</span><span class="p">,</span> <span class="n">MouseClick</span><span class="p">,</span> <span class="n">UITester</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">()</span>
<span class="n">tester</span> <span class="o">=</span> <span class="n">UITester</span><span class="p">()</span>
<span class="k">with</span> <span class="n">tester</span><span class="o">.</span><span class="n">create_ui</span><span class="p">(</span><span class="n">app</span><span class="p">)</span> <span class="k">as</span> <span class="n">ui</span><span class="p">:</span>
    <span class="n">n_hours_combobox</span> <span class="o">=</span> <span class="n">tester</span><span class="o">.</span><span class="n">find_by_name</span><span class="p">(</span><span class="n">ui</span><span class="p">,</span> <span class="s2">&quot;n_hours&quot;</span><span class="p">)</span>
    <span class="n">n_hours_combobox</span><span class="o">.</span><span class="n">locate</span><span class="p">(</span><span class="n">Index</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">perform</span><span class="p">(</span><span class="n">MouseClick</span><span class="p">())</span>

    <span class="n">pay_field</span> <span class="o">=</span> <span class="n">tester</span><span class="o">.</span><span class="n">find_by_name</span><span class="p">(</span><span class="n">ui</span><span class="p">,</span> <span class="s2">&quot;pay_check&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">find_by_name</span><span class="p">(</span><span class="s2">&quot;pay&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="step-5-check-the-pay-is-updated-to-the-expected-value">
<h2>Step 5: Check the pay is updated to the expected value<a class="headerlink" href="#step-5-check-the-pay-is-updated-to-the-expected-value" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">pay_field</span></code> wraps a text box. We have seen in
<a class="reference internal" href="first_test.html#testing-tutorial-first-test"><span class="std std-ref">First simple test</span></a> how to obtain the displayed text:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">traitsui.testing.api</span> <span class="kn">import</span> <span class="n">DisplayedText</span>
<span class="n">displayed_pay</span> <span class="o">=</span> <span class="n">pay_field</span><span class="o">.</span><span class="n">inspect</span><span class="p">(</span><span class="n">DisplayedText</span><span class="p">())</span>
<span class="k">assert</span> <span class="n">displayed_pay</span> <span class="o">==</span> <span class="s2">&quot;400.0&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="our-final-test">
<h2>Our final test<a class="headerlink" href="#our-final-test" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">traitsui.testing.api</span> <span class="kn">import</span> <span class="n">Index</span><span class="p">,</span> <span class="n">DisplayedText</span><span class="p">,</span> <span class="n">MouseClick</span><span class="p">,</span> <span class="n">UITester</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">()</span>
<span class="n">tester</span> <span class="o">=</span> <span class="n">UITester</span><span class="p">()</span>
<span class="k">with</span> <span class="n">tester</span><span class="o">.</span><span class="n">create_ui</span><span class="p">(</span><span class="n">app</span><span class="p">)</span> <span class="k">as</span> <span class="n">ui</span><span class="p">:</span>

    <span class="n">n_hours_combobox</span> <span class="o">=</span> <span class="n">tester</span><span class="o">.</span><span class="n">find_by_name</span><span class="p">(</span><span class="n">ui</span><span class="p">,</span> <span class="s2">&quot;n_hours&quot;</span><span class="p">)</span>
    <span class="n">n_hours_combobox</span><span class="o">.</span><span class="n">locate</span><span class="p">(</span><span class="n">Index</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">perform</span><span class="p">(</span><span class="n">MouseClick</span><span class="p">())</span>

    <span class="n">pay_field</span> <span class="o">=</span> <span class="n">tester</span><span class="o">.</span><span class="n">find_by_name</span><span class="p">(</span><span class="n">ui</span><span class="p">,</span> <span class="s2">&quot;pay_check&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">find_by_name</span><span class="p">(</span><span class="s2">&quot;pay&quot;</span><span class="p">)</span>
    <span class="n">displayed_pay</span> <span class="o">=</span> <span class="n">pay_field</span><span class="o">.</span><span class="n">inspect</span><span class="p">(</span><span class="n">DisplayedText</span><span class="p">())</span>

    <span class="k">assert</span> <span class="n">displayed_pay</span> <span class="o">==</span> <span class="s2">&quot;400.0&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="what-did-we-learn">
<h2>What did we learn?<a class="headerlink" href="#what-did-we-learn" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>From the output of <a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper.help" title="traitsui.testing.tester.ui_wrapper.UIWrapper.help"><code class="xref py py-func docutils literal notranslate"><span class="pre">help()</span></code></a>, objects listed in the “Locations” can be
used with <a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper.locate" title="traitsui.testing.tester.ui_wrapper.UIWrapper.locate"><code class="xref py py-func docutils literal notranslate"><span class="pre">locate()</span></code></a> for locating nested GUI components.</p></li>
<li><p><a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper.find_by_name" title="traitsui.testing.tester.ui_wrapper.UIWrapper.find_by_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_by_name()</span></code></a> and <a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper.find_by_id" title="traitsui.testing.tester.ui_wrapper.UIWrapper.find_by_id"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_by_id()</span></code></a> are aliases making use
of the <a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper.locate" title="traitsui.testing.tester.ui_wrapper.UIWrapper.locate"><code class="xref py py-func docutils literal notranslate"><span class="pre">locate()</span></code></a> method.</p></li>
<li><p><a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper.locate" title="traitsui.testing.tester.ui_wrapper.UIWrapper.locate"><code class="xref py py-func docutils literal notranslate"><span class="pre">locate()</span></code></a> returns an instance of <a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper" title="traitsui.testing.tester.ui_wrapper.UIWrapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">UIWrapper</span></code></a> on which
<a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper.locate" title="traitsui.testing.tester.ui_wrapper.UIWrapper.locate"><code class="xref py py-func docutils literal notranslate"><span class="pre">locate()</span></code></a> can be called again; <a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper.perform" title="traitsui.testing.tester.ui_wrapper.UIWrapper.perform"><code class="xref py py-func docutils literal notranslate"><span class="pre">perform()</span></code></a> and
<a class="reference internal" href="../../../api/traitsui.testing.tester.ui_wrapper.html#traitsui.testing.tester.ui_wrapper.UIWrapper.inspect" title="traitsui.testing.tester.ui_wrapper.UIWrapper.inspect"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect()</span></code></a> can be used on the nested object located.</p></li>
</ul>
</div>
</div>


          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/img/e-logo.png" alt="Logo">
            </a></p>
  <h3><a href="../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Testing with nested objects</a><ul>
<li><a class="reference internal" href="#step-1-find-the-combo-box-for-the-number-of-work-hours-field">Step 1: Find the combo box for the number of work hours field</a></li>
<li><a class="reference internal" href="#step-2-locate-a-different-item-in-the-combo-box">Step 2: Locate a different item in the combo box</a></li>
<li><a class="reference internal" href="#step-3-modify-the-number-of-work-hours">Step 3: Modify the number of work hours</a></li>
<li><a class="reference internal" href="#step-4-find-the-nested-pay-field-inside-paycheck">Step 4: Find the nested ‘pay’ field inside ‘PayCheck’</a></li>
<li><a class="reference internal" href="#step-5-check-the-pay-is-updated-to-the-expected-value">Step 5: Check the pay is updated to the expected value</a></li>
<li><a class="reference internal" href="#our-final-test">Our final test</a></li>
<li><a class="reference internal" href="#what-did-we-learn">What did we learn?</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="first_test.html"
                        title="previous chapter">First simple test</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../howtos/add_new_interaction.html"
                        title="next chapter">Add support for performing actions or inspecting states</a></p>
  <h3>This Page</h3>
  <div>
    <a href="../../../_sources/traitsui_user_manual/testing/tutorials/test_with_nested_object.rst.txt"
       rel="nofollow">Show Source</a>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2008-2020, Enthought
      </li>
      <li>
      Last updated on May 11, 2021.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 2.3.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>